{# templates/post/edit.html.twig #}

{% extends 'client.html.twig' %}

{% block title %}Modifier le Post{% endblock %}

{% block body %}
<div class="container mt-4">
  <h1>Modifier le Post</h1>

  {{ form_start(form) }}
    <div class="form-group mb-3">
      {{ form_label(form.titre, 'Titre') }}
      {{ form_widget(form.titre, {'attr': {'class': 'form-control'}}) }}
    </div>
    
    <div class="form-group mb-3">
      {{ form_label(form.contenu, 'Contenu') }}
      {{ form_widget(form.contenu, {'attr': {'class': 'form-control', 'rows': 5}}) }}
    </div>

    <div class="form-group mb-3">
      {{ form_label(form.imageFile, 'Image (optionnelle)') }}
      {{ form_widget(form.imageFile, {'attr': {'class': 'form-control-file'}}) }}
    </div>

    {% if post.image %}
      <div class="mb-3">
        <img src="{{ asset('uploads/posts/' ~ post.image) }}" alt="Image actuelle" class="img-fluid" />
      </div>
    {% endif %}

    <button type="submit" class="btn btn-primary">Enregistrer</button>
    <a href="{{ path('post_view', {'id': post.id}) }}" class="btn btn-secondary">Annuler</a>
  {{ form_end(form) }}
</div>
{% endblock %}
